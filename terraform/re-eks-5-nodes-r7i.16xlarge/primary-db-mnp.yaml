apiVersion: app.redislabs.com/v1alpha1
kind: RedisEnterpriseDatabase
metadata:
  name: primary # name this whatever you wish
spec:
  memorySize: 200GiB
  evictionPolicy: volatile-lru
  databasePort: 11793
  modulesList:
  - name: search
    config: "MT_MODE MT_MODE_FULL WORKER_THREADS 12"
  - name: bf
  - name: ReJSON
  - name: timeseries
  redisEnterpriseCluster:
    name: rec-large-scale-5nodes # Change this to whatever you named the REC
  replication: true
  shardCount: 10
  persistence: aofEverySecond
  tlsMode: enabled             # MUST be enabled for HAProxy
  shardsPlacement: "sparse"
  schedPolicy: "mnp"           # Memory-Node-Policy scheduling policy
